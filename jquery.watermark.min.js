/*
 * jQuery Watermark plugin
 * Version 1.3.1 (23-MAR-2012)
 * @requires jQuery v1.3 or later
 *
 * Examples at: http://mario.ec/static/jq-watermark/
 * Copyright (c) 2010 Mario Estrada
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 */
(function(b){var a=4;b.watermarker=function(){};b.extend(b.watermarker,{defaults:{color:"#999",left:0,top:0,fallback:false,animDuration:300,minOpacity:0.6},setDefaults:function(c){b.extend(b.watermarker.defaults,c)},checkVal:function(e,d,c){if(e.length==0){b(d).show()}else{b(d).hide()}return e.length>0},html5_support:function(){var c=document.createElement("input");return"placeholder" in c}});b.fn.watermark=function(e,d){var d,c;d=b.extend(b.watermarker.defaults,d);c=this.filter("textarea, input:not(:checkbox,:radio,:file,:submit,:reset)");if(d.fallback&&b.watermarker.html5_support()){return this}c.each(function(){var f,p,i,m,j;var k,h,l,g=0,o,n;f=b(this);if(f.attr("data-jq-watermark")=="processed"){return}p=f.attr("placeholder")!=undefined&&f.attr("placeholder")!=""?"placeholder":"title";i=e===undefined||e===""?b(this).attr(p):e;m=b('<span class="watermark_container"></span>');j=b('<span class="watermark">'+i+"</span>");if(p=="placeholder"){f.removeAttr("placeholder")}m.css({display:"inline-block",zoom:1,"*display":"inline",position:"relative"});if(f.attr("data-percent-width")=="true"){m.css("width","100%")}if(f.attr("data-percent-height")=="true"){m.css("height","100%")}f.wrap(m).attr("data-jq-watermark","processed");if(this.nodeName.toLowerCase()=="textarea"){e_height=f.css("line-height");e_height=e_height==="normal"?parseInt(f.css("font-size")):e_height;g=(f.css("padding-top")!="auto"?parseInt(f.css("padding-top")):0)}else{e_height=f.outerHeight();if(e_height<=0){e_height=(f.css("padding-top")!="auto"?parseInt(f.css("padding-top")):0);e_height+=(f.css("padding-bottom")!="auto"?parseInt(f.css("padding-bottom")):0);e_height+=(f.css("height")!="auto"?parseInt(f.css("height")):0)}}g+=(f.css("margin-top")!="auto"?parseInt(f.css("margin-top")):0);k=f.css("margin-left")!="auto"?parseInt(f.css("margin-left")):0;k+=f.css("padding-left")!="auto"?parseInt(f.css("padding-left")):0;j.css({position:"absolute",display:"block",fontFamily:f.css("font-family"),fontSize:f.css("font-size"),color:d.color,left:a+d.left+k,top:d.top+g,height:e_height,lineHeight:e_height+"px",textAlign:"left",pointerEvents:"none"}).data("jq_watermark_element",f);b.watermarker.checkVal(f.val(),j);j.click(function(){b(b(this).data("jq_watermark_element")).trigger("click").trigger("focus")});f.before(j).bind("focus.jq_watermark",function(){if(!b.watermarker.checkVal(b(this).val(),j)){j.stop().fadeTo(d.animDuration,d.minOpacity)}}).bind("blur.jq_watermark change.jq_watermark",function(){if(!b.watermarker.checkVal(b(this).val(),j)){j.stop().fadeTo(d.animDuration,1)}}).bind("keydown.jq_watermark, paste.jq_watermark",function(q){b(j).hide()}).bind("keyup.jq_watermark",function(q){b.watermarker.checkVal(b(this).val(),j)})});return this};b(function(){b(".jq_watermark").watermark()})})(jQuery)
